# ======================================================
# Seguridad básica
# ======================================================

# Proteger .htaccess
<Files ".htaccess">
  Require all denied
</Files>

# Evitar listado de directorios
Options -Indexes

# ======================================================
# Bloqueo de archivos sensibles
# ======================================================

# Bloquear .env
<FilesMatch "^\.env">
  Require all denied
</FilesMatch>

# Bloquear archivos internos del sistema
<FilesMatch "\.(action|view|helper|config)\.php$">
  Require all denied
</FilesMatch>

# Bloquear archivos de configuración comunes
<FilesMatch "(^|/)(config|settings|database|env)\.php$">
  Require all denied
</FilesMatch>

# Bloquear documentación
<FilesMatch "^(README|LICENSE|CHANGELOG|UPGRADE).*">
  Require all denied
</FilesMatch>

# Bloquear backups y dumps
<FilesMatch "\.(bak|old|orig|save|swp|sql|zip|tar|gz)$">
  Require all denied
</FilesMatch>

# ======================================================
# Front Controller
# ======================================================

RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ index.php?url=$1 [QSA,L]
